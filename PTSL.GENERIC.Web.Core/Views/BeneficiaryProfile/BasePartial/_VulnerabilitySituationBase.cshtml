@model List<PTSL.GENERIC.Web.Core.Model.EntityViewModels.Beneficiary.VulnerabilitySituationVM>

@{ var index = 0; }

@foreach (var vulnerability in Model)
{
    index++;

    <div class="card VulnerabilitySituationChild" data-id="@index">
        <input class="Id" type="hidden" value="@vulnerability.Id" />
        <div class="card-body mt-3">
            <h5 class="d-inline-block">@index</h5>
            <button type="button" class="remove-item btn btn-danger btn-sm float-right" onclick="RemoveVulnerabilitySituation(@index, @vulnerability.Id)">x</button>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>
                        Vulnerability situations
                    </label>
                    <select class="form-control VulnerabilitySituationTypeId" name="VulnerabilitySituationTypeId">
                        <option value="">Choose..</option>
                        @foreach (var item in ViewBag.VulnerabilitySituationTypeId)
                        {
                            <!option value="@item.Id" @(vulnerability.VulnerabilitySituationTypeId == item.Id ? "selected" : "")>@item.Name</!option>
                        }
                    </select>
                </div>
                <div class="form-group col-md-6">
                    <label>
                        Event (name or type)
                    </label>
                    <input type="text" class="form-control EventName" name="EventName" value="@vulnerability.EventName" placeholder="Event name" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>
                        Monetary loss (Value in BDT)
                    </label>
                    <input type="number" min="0" class="form-control MonetaryLoss" name="MonetaryLoss" value="@(vulnerability.Id == 0 ? "" : vulnerability.MonetaryLoss)" placeholder="Monetary Loss" />
                </div>
                <div class="form-group col-md-6">
                    <label>
                        How did you recover the situation
                    </label>
                    <input type="text" class="form-control HowDidRecover" name="HowDidRecover" value="@vulnerability.HowDidRecover" placeholder="How did recover" />
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label>
                        Remarks
                    </label>
                    <input type="text" class="form-control Remarks" name="Remarks" value="@vulnerability.Remarks" placeholder="Remarks" />
                </div>
            </div>
        </div> <!-- card body end -->
    </div>
}
